<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HEAD>
<TITLE>
jGuru: Bootstrap Example
</TITLE>
  <META NAME="AUTHOR" CONTENT="jGuru.com">
  <META NAME="DESCRIPTION" CONTENT="Description Goes Here">
  <META NAME="KEYWORDS" CONTENT="Keyword Listing Goes Here">
  <META NAME="OWNER" CONTENT="Editorial/JDC">
  <META NAME="revision" CONTENT="@(#)index2.src	1.2 06/09/99  JDC">
  
  <STYLE TYPE="text/css">
    <!-- 
    CODE {font-family: Courier, Monospace;
          font-size: 12pt}
    PRE {font-family: Courier, Monospace;
         font-size: 11pt}
      -->
  </STYLE>
</HEAD>

<!-- Start Body Insert-->
<BODY BGCOLOR="#ffffff">
<!-- End Body Insert-->

<!-- Start PageTop Insert -->

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%">
  <TR ALIGN="CENTER" VALIGN="TOP">
    <TD WIDTH="157" ALIGN="LEFT">
    <IMG SRC="/images/pixel.gif" HEIGHT="40" WIDTH="40" ALT="">
    <A HREF="http://java.sun.com/index.html"><IMG SRC="/images/javalogo52x88.gif" WIDTH="52" HEIGHT="88" ALT="Java Technology Home Page" BORDER="0"></A>
    <BR>
    <IMG SRC="/images/pixel.gif" WIDTH="157" HEIGHT="1" ALT=""></TD>

    <TD>

    <FORM NAME="seek1" METHOD="GET" ACTION="http://search.java.sun.com/query.html">
    <TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%">
      <TR>
        <TD ALIGN="RIGHT">
        <IMG SRC="/images/stripelt.gif" WIDTH="6" HEIGHT="14" ALT=""></TD>
        
        <TD WIDTH="100%">
        
        <TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%">
          <TR>
            <TD BGCOLOR="#CC9966" WIDTH="100%">
            <IMG SRC="/images/pixel.gif" HEIGHT="2" WIDTH="1" ALT=""></TD>
          </TR>
          
          <TR>
            <TD>
            <IMG SRC="/images/pixel.gif" HEIGHT="2" WIDTH="1" ALT=""></TD>
          </TR>
          
          <TR>
            <TD BGCOLOR="#CC9966">
            <IMG SRC="/images/pixel.gif" HEIGHT="2" WIDTH="1" ALT=""></TD>
          </TR>
          
          <TR>
            <TD>
            <IMG SRC="/images/pixel.gif" HEIGHT="2" WIDTH="1" ALT=""></TD>
          </TR>
          
          <TR>
            <TD BGCOLOR="#CC9966">
            <IMG SRC="/images/pixel.gif" HEIGHT="2" WIDTH="1" ALT=""></TD>
          </TR>
          
          <TR>
            <TD>
            <IMG SRC="/images/pixel.gif" HEIGHT="2" WIDTH="1" ALT=""></TD>
          </TR>
          
          <TR>
            <TD BGCOLOR="#CC9966">
            <IMG SRC="/images/pixel.gif" HEIGHT="2" WIDTH="1" ALT=""></TD>
          </TR>
        </TABLE>
        </TD>
        
        <TD ALIGN="LEFT">
        <IMG SRC="/images/stripert.gif" WIDTH="6" HEIGHT="14" ALT=""></TD>

        <TD>
        
        <TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0">
          <TR>
            <TD VALIGN="CENTER">
            <A HREF="http://java.sun.com/a-z/index.html"><IMG SRC="/images/azindex.gif" BORDER="0" WIDTH="72" HEIGHT="11" ALT="A-Z Index"></A></TD>
              
            <TD VALIGN="CENTER">
            <FONT FACE="Helvetica" SIZE="1">
            <INPUT TYPE="text" SIZE="15" MAXLENGTH="128" NAME=qt></FONT></TD>
            
            <TD VALIGN="CENTER">
            <INPUT TYPE="image" SRC="/images/search.button.gif" 
              value="search" BORDER="0" WIDTH="55" HEIGHT="14" ALT="Search"></TD>
          </TR>
        </TABLE>
        </TD>
      </TR>
    </TABLE>
    </FORM>
    <P>

    <TABLE BORDER="0" WIDTH="100%" CELLPADDING="0" CELLSPACING="0">
      <TR VALIGN="TOP">
        <TD WIDTH="100%"><IMG SRC="/images/chiclet.row.gif" WIDTH="55" 
          HEIGHT="18" ALT=""></TD>
          
        <TD ROWSPAN="4" ALIGN="RIGHT" WIDTH="152">
        <A HREF="/developer/index.html"><IMG SRC="/images/developer.connection.header.gif" BORDER="0" HEIGHT="42" WIDTH="319" ALT="Java Developer Connection(SM)"></A></TD>
      </TR>
      
      <TR VALIGN="TOP">
        <TD BGCOLOR="#FFFFFF" HEIGHT="1" WIDTH="100%">
        <IMG SRC="/images/pixel.gif" HEIGHT="1" WIDTH="1" ALT=""></TD>
      </TR>
      
      <TR VALIGN="TOP">
        <TD BGCOLOR="#CC9966" HEIGHT="1" WIDTH="100%">
        <IMG SRC="/images/pixel.gif" HEIGHT="1" WIDTH="1" ALT=""></TD>
      </TR>
      
      <TR VALIGN="TOP">
        <TD><A HREF="/developer/onlineTraining/"><IMG SRC="/images/online-training.gif" ALT="Online Training" BORDER=0></A></TD>
      </TR>
    </TABLE>

    </TD>
  </TR>
</TABLE>


<!-- End PageTop Insert -->

<!-- Start NavBar Insert -->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" BGCOLOR="#FFFFFF" WIDTH="157" ALIGN="LEFT">

<!-- tab categories -->

<TR>
<TD><A HREF="http://java.sun.com/products/"><IMG SRC="/images/side.tab.products.gif" HEIGHT="15" WIDTH="130" BORDER="0" ALT="Downloads, APIs, Documentation"></A></TD>
</TR>

<TR>
<TD><A HREF="/developer/index.html"><IMG SRC="/images/side.tab.developer.gif" HEIGHT="15" WIDTH="130" BORDER="0" ALT="Java Developer Connection"></A></TD>
</TR>

<TR>
<TD><A HREF="/developer/infodocs/index.shtml"><IMG SRC="/images/side.tab.docs.gif" HEIGHT="15" WIDTH="130" BORDER="0" ALT="Tutorials, Tech Articles, Training"></A></TD>
</TR>

<TR>
<TD><A HREF="/developer/support/index.html"><IMG SRC="/images/side.tab.support.gif" HEIGHT="15" WIDTH="130" BORDER="0" ALT="Online Support"></A></TD>
</TR>

<TR>
<TD><A HREF="/developer/community/index.html"><IMG SRC="/images/side.tab.community.gif" HEIGHT="15" WIDTH="130" BORDER="0" ALT="Community Discussion"></A></TD>
</TR>

<TR>
<TD><A HREF="http://java.sun.com/industry/"><IMG SRC="/images/side.tab.news.gif" HEIGHT="15" WIDTH="130" BORDER="0" ALT="News &amp; Events from Everywhere"></A></TD>
</TR>

<TR>
<TD><A HREF="http://java.sun.com/solutions"><IMG SRC="/images/side.tab.solutions.gif" HEIGHT="15" WIDTH="130" BORDER="0" ALT="Products from Everywhere"></A></TD>
</TR>

<TR>
<TD><A HREF="http://java.sun.com/casestudies"><IMG SRC="/images/side.tab.case.gif" HEIGHT="15" WIDTH="130" BORDER="0" ALT="How Java Technology is Used Worldwide"></A></TD>
</TR>
<TR>
<TD>    <DIV ALIGN="RIGHT">
    <A HREF="/servlet/PrintPageServlet"><IMG SRC="/images/printbutton.gif" border=0></A>
    </DIV>
</TD>
</TR>

<TR><TD>&nbsp;</TD></TR>


<!-- End NavBar Insert -->


<!-- START SUB-NAV -->

<TR>
  <TD><!-- INSERT SUB-NAV INFO -->
  </TD>
</TR>


<!-- END SUB-NAV -->

</TABLE>

<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0">
<TR>
<TD>
<FONT FACE="Verdana, Arial, Helvetica, sans-serif">
<!-- Template Version 2.0 -->

<!-- ================== -->
<!-- Start Main Content -->
<!-- ================== -->
<A NAME="TOP"></A>
<DIV ALIGN="RIGHT">
   <H3>Fundamentals of RMI</H3>
  <H2> Bootstrap Example</H2>
  <FONT SIZE="-1">
 <H4><EM>by <A HREF="http://www.jGuru.com" TARGET="_blank"><img src="../../images/jguru-xxxsm.gif" width=66 height=20 border="0" alt="jGuru"></A></EM></H4>
 [<A HREF="help.html">Help</A> | 
  <A HREF="http://java.sun.com/products/jdk/1.2/docs/api">API Docs</A> |
  <A HREF="../../RMI.html">Short Course</A>|
  <A HREF="../../exercises.html">Exercises</A>]
  </FONT>
  </DIV>


<BR><BR>
This exercise has three components: bootstrap HTTP Server, bootstrap RMI Server and
bootstrap RMI Client. They highlight how RMI supports the distributed, 
on-demand loading of class files via FTP and HTTP servers.
<P>
To start with, you run a simple, lightweight HTTP server.
This server acts as the network server for the class files needed for 
the RMI Client and Server.
<P>
The lightweight HTTP server is implemented by two classes provided 
by Sun Microsystems.
The file <CODE>ClassLoader.java</CODE> is an abstract class, and
the file <CODE>ClassFileLoader.java</CODE> is the implementation
class for the HTTP Server. This server is very simple and only
delivers Java class files.
<P>
You have to place the HTTP Server files in a subdirectory different to the one containing the RMI Server and Client files. After compilation, start the
HTTP Server from within its subdirectory  and provide 
it a path parameter that tells the HTTP Server to deliver class files from the 
RMI server subdirectory.
<P>
Next, you create and run the bootstrap RMI Server for the
bootstrap example.

The server is very similar to other RMI Servers you have run.
One of the main differences in this example is that the client
code is located in the same directory as the server. Note that all 
of the files have already been created for you.

It is up to the HTTP Server to deliver the client classes
to the client computer.
<P>
Finally, you will create the RMI bootstrap loader program,  <CODE>RMIClientLoader.java</CODE>. 
Make sure that this file is located in a separate directory from the ones 
containing the HTTP Server files and the RMI Client and Server files. 
The sole purpose of this program is to start and then
request the 'real' client software from the network.
The requests for classes are then serviced by the
HTTP Server that you ran earlier in the exercise.
<P>
One of the challenges of building a bootstrap program
is passing start-up information from the bootstrap
portion of the system to the real client code.
The program uses a system property to store information
that must be communicated to the real-client program.
<P>
Again, note that in this exercise it is important to run the programs 
in the following sequence:
<OL>
    <LI><FONT FACE="Verdana, Arial, Helvetica, sans-serif">Bootstrap HTTP Server</FONT>
    <LI><FONT FACE="Verdana, Arial, Helvetica, sans-serif">Bootstrap RMI Server</FONT>
    <LI><FONT FACE="Verdana, Arial, Helvetica, sans-serif">Bootstrap RMI Client</FONT>
</OL>
<P>
This exercise is an example of the "bootstrap" 
model of distribution of classes.  
This is covered in the 
<a href="../../RMI.html#ClassDistribution">Automatic Distribution of classes</a> 
section of the Course Notes.
</P>
<H3>Resources</H3>
<UL>
<LI><CODE><a href="ClassServer.java">ClassServer.java</a></CODE>
<LI><CODE><a href="ClassFileServer.java">ClassFileServer.java</a></CODE>
<LI><CODE><a href="runhttp.bat">runhttp.bat</a></CODE>
<LI><CODE><a href="MessageObject.java">MessageObject.java</a></CODE>
<LI><CODE><a href="Hello.java">Hello.java</a></CODE>
<LI><CODE><a href="RMIServer.java">RMIServer.java</a></CODE>
<LI><CODE><a href="HelloImpl.java">HelloImpl.java</a></CODE>
<LI><CODE><a href="runserver.bat">runserver.bat</a></CODE>
<LI><CODE><a href="RMIClient.java">RMIClient.java</a></CODE>
<LI><CODE><a href="RMIClientBootstrapSecurityManager.java">RMIClientBootstrapSecurityManager.java</a></CODE>
<LI><CODE><a href="RMIClientLoader.java">RMIClientLoader.java</a></CODE>
<LI><CODE><a href="runclient.bat">runclient.bat</a></CODE>
</UL>
<H4 ALIGN="RIGHT"><A HREF="#TOP">Back to Top</A></H4>
<h3>Tasks</h3>
<BR>
<OL>
<A HREF="help.html#1"><LI></A>
<P>

<P>
Save the two program files and the <CODE>runhttp.bat</CODE> command file into some directory and compile the HTTP Server files


<A HREF="help.html#2"><LI></A>
<P>

<P>
Start the HTTP Server


<A HREF="help.html#3"><LI></A>
<P>

<P>
Compile all the class files for the client and server


<A HREF="help.html#4"><LI></A>
<P>

<P>
Create the <CODE>stub</CODE> and <CODE>skeleton</CODE> files 
for the remote object implementation


<A HREF="help.html#5"><LI></A>
<P>

<P>
Run the RMI server program


<A HREF="help.html#6"><LI></A>
<P>

<P>
Compile the class files for the client bootstrap loader program


<A HREF="help.html#7"><LI></A>
<P>

<P>
Edit the 
<CODE>runclient.bat</CODE> command file to include 
the name of your computer


<A HREF="help.html#8"><LI></A>
<P>

<P>
Run the <CODE>runclient.bat</CODE> command file.


</OL>
</P>
<P>
Where help exists, the task numbers above are linked to the
step-by-step <A HREF="help.html">help</A> page.

<P>
<h3>Solution Source</h3>
<UL>
<LI><CODE><a href=ClassServer.java>ClassServer.java</a></CODE>
<LI><CODE><a href=ClassFileServer.java>ClassFileServer.java</a></CODE>
<LI><CODE><a href=runhttp.bat>runhttp.bat</a></CODE>
<LI><CODE><a href=MessageObject.java>MessageObject.java</a></CODE>
<LI><CODE><a href=Hello.java>Hello.java</a></CODE>
<LI><CODE><a href=RMIServer.java>RMIServer.java</a></CODE>
<LI><CODE><a href=HelloImpl.java>HelloImpl.java</a></CODE>
<LI><CODE><a href=runserver.bat>runserver.bat</a></CODE>
<LI><CODE><a href=RMIClient.java>RMIClient.java</a></CODE>
<LI><CODE><a href=RMIClientBootstrapSecurityManager.java>RMIClientBootstrapSecurityManager.java</a></CODE>
<LI><CODE><a href=RMIClientLoader.java>RMIClientLoader.java</a></CODE>
<LI><CODE><a href=runclient.bat>runclient.bat</a></CODE>
</UL>
<h3>Demonstration</h3>
<P>
<P>
When the HTTP Server is run in a console window, the output will be:
<pre>ClassFileServer started...</pre>

<P>
As the client runs and downloads files from the HTTP Server,
notice that the HTTP Server indicates the files it reads
from the disk.

The first program it delivers is the client program itself, <CODE>RMIClient</CODE>.
After that, it delivers stub files and other classes needed by the client.
<P>
Next, when the RMI Server is run in a console window, the output will be:
<pre>
Registry created on host computer localhost on port 10009
Remote Hello implementation object created
Bindings Finished, waiting for client requests.
</pre>

<P>
Finally, when the client bootstrap program is run in its 
console window, the output will be:
<pre>
http://ROSA:2002/
After loading Client Class
Message from Server: Hello!
MessageObject: Class Number is #0 Object Number is #0
MessageObject: Class Number is #0 Object Number is #1
MessageObject: Class Number is #0 Object Number is #2
MessageObject: Class Number is #0 Object Number is #3
MessageObject: Class Number is #0 Object Number is #4
MessageObject: Class Number is #0 Object Number is #5
MessageObject: Class Number is #0 Object Number is #6
MessageObject: Class Number is #0 Object Number is #7
MessageObject: Class Number is #0 Object Number is #8
MessageObject: Class Number is #0 Object Number is #9
</pre><P>
At the same time, you will notice 
the following output on the RMI Server console:
<pre>
MessageObject: Class Number is #0 Object Number is #0
MessageObject: Class Number is #1 Object Number is #1
MessageObject: Class Number is #2 Object Number is #2
MessageObject: Class Number is #3 Object Number is #3
MessageObject: Class Number is #4 Object Number is #4
MessageObject: Class Number is #5 Object Number is #5
MessageObject: Class Number is #6 Object Number is #6
MessageObject: Class Number is #7 Object Number is #7
MessageObject: Class Number is #8 Object Number is #8
MessageObject: Class Number is #9 Object Number is #9
</pre>

<H4><A HREF="../DistributedGarbageCollector/index.html">Next Magercise</A></H4>
<H4><A HREF="../../exercises.html">Exercises</A></H4>
<H4><A HREF="../../RMI.html">Short Course</A></H4>
<H4><A HREF="../../index.html">Feedback</A></H4>
<H4 ALIGN="RIGHT"><A HREF="#TOP">Back to Top</A></H4>
<P><font FACE="verdana,arial,helvetica" SIZE="1">Copyright 1996-2000 <a href="http://www.jguru.com">jGuru.com</a>. All Rights Reserved.</font>

<!-- ================ -->
<!-- End Main Content -->
<!-- ================ -->

</TD>
</TR>
</TABLE>

<!-- Copyright Insert -->

<BR CLEAR="ALL">

<FORM ACTION="/cgi-bin/search.cgi" METHOD="POST">
<TABLE WIDTH="100%" CELLPADDING="0" BORDER="0" CELLSPACING="5">   
  <TR>
    <TD VALIGN="BOTTOM">


</TD>
</TR>
<A HREF="/servlet/PrintPageServlet"><IMG SRC="/images/printbutton.gif" border=0></A>
	
    <CENTER>
    <FONT SIZE="-1" COLOR="#999999" FACE="Verdana, Arial, Helvetica, sans-serif">
    [ This page was updated: <!-- new date --> 25-Feb-2000 ]
</font></CENTER>
    </TD>
  </TR>
  
  <TR>
    <TD BGCOLOR="#CCCCCC">
    <IMG SRC="/images/pixel.gif" HEIGHT="1" WIDTH="1" ALT=""></TD>
  </TR>
  
  <TR>
    <TD>
    <CENTER>
    <FONT SIZE="-2" FACE="Verdana, Arial, Helvetica, sans-serif">
    <A HREF="http://java.sun.com/products/">Products &amp; APIs</A> | 
    <A HREF="/developer/index.html">Developer Connection</A> | 
    <A HREF="/developer/infodocs/index.shtml">Docs &amp; Training</A> | 
    <A HREF="/developer/support/index.html">Online Support</A><BR>
    <A HREF="/developer/community/index.html">Community Discussion</A> |
    <A HREF="http://java.sun.com/industry/">Industry News</A> | 
    <A HREF="http://java.sun.com/solutions">Solutions Marketplace</A> | 
    <A HREF="http://java.sun.com/casestudies">Case Studies</A>
    </FONT>
    </CENTER>
    </TD>
  </TR>
  
  <TR>
    <TD BGCOLOR="#CCCCCC">
    <IMG SRC="/images/pixel.gif" HEIGHT="1" WIDTH="1" ALT=""></TD>
  </TR>

  <TR>
    <TD ALIGN="CENTER">
    <FONT SIZE="-2" FACE="Verdana, Arial, Helvetica, sans-serif">
    <A HREF="http://java.sun.com/docs/glossary.html">Glossary</A> - 
    <A HREF="http://java.sun.com/applets/">Applets</A> - 
    <A HREF="http://java.sun.com/docs/books/tutorial/">Tutorial</A> - 
    <A HREF="http://java.sun.com/jobs/">Employment</A> - 
    <A HREF="http://java.sun.com/nav/business/">Business &amp; Licensing</A> - 
    <A HREF="http://java.sun.com/javastore/">Java Store</A> -
    <A HREF="http://java.sun.com/casestudies/">Java in the Real World</A>
    </FONT>
    </TD>
  </TR>

  <TR>
    <TD>
    <CENTER>
    <FONT SIZE="-2" FACE="Verdana, Arial, Helvetica, sans-serif">
    <a href="/siteinfo/faq.html">FAQ</a> |
    <a href="/feedback/index.html">Feedback</a> | 
    <a href="http://www.dynamicdiagrams.net/mapa/cgi-bin/help.tcl?db=javasoft&dest=http://java.sun.com/">Map</a> | 
    <A HREF="http://java.sun.com/a-z/index.html">A-Z Index</A>
    </FONT>
    </CENTER>

    </TD>
  </TR>
  
  <TR>
    <TD>

    <TABLE WIDTH="100%" CELLPADDING="0" BORDER="0" CELLSPACING="0">
      <TR>
        <TD WIDTH="50%">
        <FONT SIZE="-2" FACE="Verdana, Arial, Helvetica, sans-serif">
        For more information on Java technology<BR>
        and other software from Sun Microsystems, call:<BR>
        </FONT>
        <FONT SIZE="-1" FACE="Verdana, Arial, Helvetica, sans-serif">
        (800) 786-7638<BR></FONT>
        <FONT SIZE="-2" FACE="Verdana, Arial, Helvetica, sans-serif">
        Outside the U.S. and Canada, dial your country's 
        <A HREF="http://www.att.com/business_traveler/attdirecttollfree/">AT&amp;T&nbsp;Direct&nbsp;Access&nbsp;Number</A> first.<BR>
        </FONT>
        </TD>

        <TD ALIGN="RIGHT" WIDTH="50%">
        <A HREF="http://www.sun.com"><IMG SRC="/images/lgsun.gif" width="64" height="30" border="0" ALT="Sun Microsystems, Inc."></A><BR>
        <FONT SIZE="-2" FACE="Verdana, Arial, Helvetica, sans-serif">
        Copyright &copy; 1995-2000
        <A HREF="http://www.sun.com">Sun Microsystems, Inc.</A><BR>
        All Rights Reserved. 
        <A HREF="http://www.sun.com/share/text/termsofuse.html">Terms of Use</A>. 
        <A HREF="http://www.sun.com/privacy/">Privacy&nbsp;Policy</A>.
        </FONT>
        </TD>
      </TR>
    </TABLE>
	
    </TD>
  </TR> 
</TABLE>
</FORM>

<!-- End Copyright Insert -->


</BODY>
</HTML>
